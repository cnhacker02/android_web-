<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI字幕生成器</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>🎬 AI字幕生成器</h1>
            <p class="subtitle">Android版 - 视频转字幕</p>
        </header>

        <main class="app-content">
            <section class="upload-section">
                <div class="file-drop" id="fileDrop">
                    <div class="file-drop-icon">📁</div>
                    <div class="file-drop-text">
                        <p>选择视频文件</p>
                        <p class="file-drop-hint">点击或拖放</p>
                    </div>
                    <input type="file" id="fileInput" accept="video/*" hidden>
                </div>
                <div class="selected-file" id="selectedFile" style="display: none;">
                    <div class="file-info">
                        <span class="file-icon">🎥</span>
                        <span class="file-name" id="fileName">video.mp4</span>
                    </div>
                    <button class="btn-remove" id="removeFile">✕</button>
                </div>
            </section>

            <section class="settings-section">
                <div class="setting-item">
                    <label>语言</label>
                    <select id="languageSelect">
                        <option value="zh">中文</option>
                        <option value="en">英文</option>
                        <option value="ja">日文</option>
                        <option value="ko">韩文</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>模型</label>
                    <select id="modelSelect">
                        <option value="tiny">tiny (快)</option>
                        <option value="base" selected>base</option>
                        <option value="small">small</option>
                        <option value="medium">medium (慢)</option>
                    </select>
                </div>
            </section>

            <section class="llm-section">
                <div class="llm-status" id="llmStatus">
                    <span class="llm-dot" id="llmDot"></span>
                    <span class="llm-text" id="llmText">LLM: 未启用</span>
                </div>
                <button class="btn-config" id="llmConfigBtn">⚙️ 配置</button>
            </section>

            <section class="progress-section" id="progressSection" style="display: none;">
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <p class="progress-text" id="progressText">准备中...</p>
            </section>

            <button class="btn-generate" id="generateBtn" disabled>
                🚀 开始生成
            </button>

            <section class="subtitles-section" id="subtitlesSection" style="display: none;">
                <div class="section-header">
                    <h2>📝 字幕列表</h2>
                    <div class="action-buttons">
                        <button class="btn-small" id="addSubtitleBtn">➕ 添加</button>
                        <button class="btn-small btn-danger" id="deleteSelectedBtn">🗑️ 删除选中</button>
                    </div>
                </div>
                <div class="subtitles-list" id="subtitlesList"></div>
                <div class="save-buttons">
                    <button class="btn-save" id="saveSrtBtn">💾 保存SRT</button>
                </div>
            </section>
        </main>
    </div>

    <div class="modal-overlay" id="llmModal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h2>⚙️ LLM配置</h2>
                <button class="modal-close" id="llmModalClose">✕</button>
            </div>
            <div class="modal-content">
                <div class="form-item">
                    <label class="checkbox-label">
                        <input type="checkbox" id="llmEnabled">
                        <span>启用LLM字幕优化</span>
                    </label>
                </div>
                <div class="form-item">
                    <label>API提供商</label>
                    <select id="llmProvider">
                        <option value="deepseek">DeepSeek</option>
                        <option value="openai">OpenAI</option>
                    </select>
                </div>
                <div class="form-item">
                    <label>API Key</label>
                    <input type="password" id="llmApiKey" placeholder="sk-...">
                </div>
                <div class="form-item">
                    <label>API地址</label>
                    <input type="text" id="llmApiBase" placeholder="https://api.deepseek.com/v1">
                </div>
                <div class="form-item">
                    <label>模型</label>
                    <select id="llmModel">
                        <option value="deepseek-chat">deepseek-chat</option>
                        <option value="deepseek-coder">deepseek-coder</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-modal" id="llmCancelBtn">取消</button>
                <button class="btn-modal btn-primary" id="llmSaveBtn">保存</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="successModal" style="display: none;">
        <div class="modal modal-small">
            <div class="modal-icon">✅</div>
            <h2>成功！</h2>
            <p id="successMessage">字幕生成完成</p>
            <button class="btn-modal btn-primary" id="successOkBtn">确定</button>
        </div>
    </div>

    <div class="modal-overlay" id="errorModal" style="display: none;">
        <div class="modal modal-small">
            <div class="modal-icon">❌</div>
            <h2>错误</h2>
            <p id="errorMessage">发生错误</p>
            <button class="btn-modal btn-primary" id="errorOkBtn">确定</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
